{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/phonebook.js","components/Notification.js","App.js","index.js"],"names":["Filter","filterWord","handleFilterChange","value","onChange","PersonForm","addPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Persons","persons","handleDeletePerson","map","person","key","name","number","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","text","className","App","useState","setPersons","setNewName","setNewNumber","setFilterWord","notification","setNotification","useEffect","phoneService","updateNotification","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","personIdx","indexOf","newEntry","concat","catch","error","window","confirm","newPerson","personToDelete","find","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2dbfc0b4.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ filterWord, handleFilterChange }) => {\n  return (\n    <div>\n      filter shown with\n      <input value={filterWord} onChange={handleFilterChange} />\n    </div>\n  )\n}\n\nexport default Filter;","import React from \"react\";\n\nconst PersonForm = ({\n  addPerson,\n  newName,\n  handleNameChange,\n  newNumber,\n  handleNumberChange\n}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        name: <input value={newName} onChange={handleNameChange} />\n      </div>\n      <div>\n        phone: <input value={newNumber} onChange={handleNumberChange} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ persons,handleDeletePerson }) => {\n  return (\n    <>\n      {persons.map(person => (\n        <div key={person.name}>\n          {person.name} {person.number}\n          <button onClick={() => handleDeletePerson(person.id)}>Delete</button>\n        </div>\n      ))}\n    </>\n  );\n};\n\nexport default Persons;\n","import axios from 'axios';\n\nconst baseUrl = \"/api/persons\";\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data);\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n}\n\nconst update = (newObject) => {\n  const request = axios.put(`${baseUrl}/${newObject.id}`, newObject);\n  return request.then(response => response.data);\n}\n\nexport default { getAll, create, remove, update }","import React from \"react\";\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  } \n  const { text, type } = message;\n\n  if (type === \"error\" || type === \"success\") {\n    return (\n      <div className={type}>\n        {text}\n      </div>\n    )\n  } else {\n    return null;\n  }\n  \n}\n\nexport default Notification","import React, { useState, useEffect } from \"react\";\nimport Filter from \"./components/Filter\";\nimport PersonForm from \"./components/PersonForm\";\nimport Persons from \"./components/Persons\";\nimport phoneService from \"./services/phonebook\";\nimport Notification from \"./components/Notification\";\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [filterWord, setFilterWord] = useState(\"\");\n  const [notification, setNotification] = useState(null);\n\n  useEffect(() => {\n    phoneService.getAll().then(persons => setPersons(persons));\n  }, []);\n\n  const handleNameChange = event => setNewName(event.target.value);\n\n  const handleNumberChange = event => setNewNumber(event.target.value);\n\n  const handleFilterChange = event => setFilterWord(event.target.value);\n\n  const updateNotification = message => {\n    setNotification(message);\n    setTimeout(() => setNotification(null), 3000);\n  };\n\n  const handleDeletePerson = id => {\n    const personToDelete = persons.find(person => person.id === id);\n    const result = window.confirm(`Delete ${personToDelete.name}`);\n    if (result) {\n      phoneService\n        .remove(id)\n        .then(() => {\n          setPersons(persons.filter(person => person.id !== id));\n        })\n        .catch(error => {\n          updateNotification({text: `Information of ${personToDelete.name} has already been removed from server`, type: \"error\"});\n          setPersons(persons.filter(person => person.id !== personToDelete.id));\n        });\n    }\n  };\n\n  const addPerson = event => {\n    event.preventDefault();\n    const personIdx = persons.map(person => person.name).indexOf(newName);\n    if (personIdx === -1) {\n      const newPerson = { name: newName, number: newNumber};\n      phoneService\n      .create(newPerson)\n        .then(newEntry => {\n          updateNotification({text: `Added ${newEntry.name}`, type: \"success\"});\n          setPersons(persons.concat(newEntry));\n        })\n        .catch(error => {\n          updateNotification({text: error.response.data.error, type: \"error\"})\n        });\n    } else {\n      const result = window.confirm(\n        `${newName} is already added to phonebook, replace the old number with a new one?`\n      );\n      if (result) {\n        const newPerson = { ...persons[personIdx], number: newNumber };\n        phoneService\n          .update(newPerson)\n          .then(newEntry => {\n            updateNotification({text: `Updated ${newEntry.name} number`, type: \"success\"});\n            setPersons(\n              persons.map(person =>\n                person.id === newPerson.id ? newEntry : person\n              )\n            );\n          })\n          .catch(error => {\n            updateNotification({text: error.response.data.error, type: \"error\"})\n          });\n      }\n    }\n    setNewName(\"\");\n    setNewNumber(\"\");\n  };\n\n  const personsToShow = persons.filter(person =>\n    person.name.toLowerCase().includes(filterWord.toLowerCase())\n  );\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} />\n      <Filter filterWord={filterWord} handleFilterChange={handleFilterChange} />\n      <h2>Add a new</h2>\n      <PersonForm\n        addPerson={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <h3>Numbers</h3>\n      <Persons\n        persons={personsToShow}\n        handleDeletePerson={handleDeletePerson}\n      />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}